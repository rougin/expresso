# Staticka

[![Latest Version on Packagist][ico-version]][link-packagist]
[![Software License][ico-license]][link-license]
[![Build Status][ico-build]][link-build]
[![Coverage Status][ico-coverage]][link-coverage]
[![Total Downloads][ico-downloads]][link-downloads]

A yet-another PHP-based static site generator. This converts [Markdown](https://en.wikipedia.org/wiki/Markdown) content and PHP template files into static HTML. It is inspired by popular static site generators like [Hugo](https://gohugo.io) and [Jekyll](https://jekyllrb.com).

## Installation

Install `Staticka` via [Composer](https://getcomposer.org/):

``` bash
$ composer require rougin/staticka
```

## Basic Usage

### Simple HTML from string

`Staticka` can convert simple Markdown content from string into HTML:

``` php
// index.php

use Rougin\Staticka\Page;
use Rougin\Staticka\Parser;

// Creates a new page with the specified body ---------
$page = new Page;

$page->setName('Hello world!');
$page->setBody("# {NAME}\nThis is a sample template.");
// ----------------------------------------------------

// Converts the page into an HTML ---
$parser = new Parser;

echo $parser->parsePage($page);
// ----------------------------------
```

``` bash
$ php index.php

<h1>Hello world!</h1>
<p>This is a sample template.</p>
```

> [!NOTE]
> The `{NAME}` is just a placeholder to insert the `name` value from the `Page` class to the body.

### Using `.md` files

`Staticka` also supports converting the Markdown-based files (`.md`files) by adding the path of the specified `.md` file to the `Page` class:

``` md
<!-- sample/hello/index.md -->

# Hello World!

This is a sample **Markdown** file!
```

``` php
// index.php

use Rougin\Staticka\Render;

// ...

// Specify the path of the Markdown file ---
$file = __DIR__ . '/sample/hello/index.md';

$page = new Page($file);
// -----------------------------------------

// ...

echo $parser->parsePage($page);
```

``` bash
$ php index.php

<h1>Hello World!</h1>

<p>This is a sample <strong>Markdown</strong> file!</p>
```

### Adding Front Matter, additional data

`Staticka` supports [Front Matter](https://jekyllrb.com/docs/frontmatter) in which can add predefined variables in a specific content. Special variables like `path`, `link`, and `name` are also generated by default but can be overwritten inside the content.

``` md
<!-- sample/hello/index.md -->

---
link: brave-world
---

# Hello World!

The link is **{LINK}**.
```

``` bash
$ php index.php

<h1>Hello World!</h1>

<p>The link is <strong>brave-world</strong>.</p>
```

### Building HTML pages

Multiple `Page` instances can be converted into `.html` files including their respective directories using the `Site` class:

``` php

// ...

use Rougin\Staticka\Site;

// ...

// Builds the site with its pages ---------
$site = new Site($parser);

$file = __DIR__ . '/sample/hello/index.md';
$site->addPage(new Page((string) $file));

$site->build(__DIR__ . '/output');
// ----------------------------------------
```

``` bash
$ php index.php
```

``` html
<!-- output/brave-world/index.html -->

<h1>Hello World!</h1>
<p>The link is <strong>brave-world</strong>.</p>
```

## Changelog

Please see [CHANGELOG][link-changelog] for more information what has changed recently.

## Testing

``` bash
$ composer test
```

## Credits

- [All contributors][link-contributors]

## License

The MIT License (MIT). Please see [LICENSE][link-license] for more information.

[ico-build]: https://img.shields.io/github/actions/workflow/status/rougin/staticka/build.yml?style=flat-square
[ico-coverage]: https://img.shields.io/codecov/c/github/rougin/staticka?style=flat-square
[ico-downloads]: https://img.shields.io/packagist/dt/rougin/staticka.svg?style=flat-square
[ico-license]: https://img.shields.io/badge/license-MIT-brightgreen.svg?style=flat-square
[ico-version]: https://img.shields.io/packagist/v/rougin/staticka.svg?style=flat-square

[link-build]: https://github.com/rougin/staticka/actions
[link-changelog]: https://github.com/rougin/staticka/blob/master/CHANGELOG.md
[link-contributors]: https://github.com/rougin/staticka/contributors
[link-coverage]: https://app.codecov.io/gh/rougin/staticka
[link-downloads]: https://packagist.org/packages/rougin/staticka
[link-license]: https://github.com/rougin/staticka/blob/master/LICENSE.md
[link-packagist]: https://packagist.org/packages/rougin/staticka